{"version":3,"sources":["ng://@sedeh/flexible-tabs/src/app/flexible-tabs/flexible.tabs.component.ts","ng://@sedeh/flexible-tabs/src/app/flexible-tabs/flexible-tabs-module.ts"],"names":["button","tab","plain","icon","radio","top","left","right","bottom","FlexibleTabComponent","componentFactoryResolver","host","appRef","injector","renderer","detector","this","prototype","ngOnInit","setAttribute","nativeElement","flexibleId","index","selected","style","display","templateContext","data","sourceData","deactivate","deselect","setStyle","dynamicComponent","hovered","detectChanges","activate","component","initializeDynamicComponent","template","handler","hover","flag","resolveComponentFactory","create","attachView","hostView","appendChild","rootNodes","Component","args","selector","ComponentFactoryResolver","ElementRef","ApplicationRef","Injector","Renderer2","ChangeDetectorRef","Input","FlexibleTabsComponent","TabPositions","TabTypes","EventEmitter","ngAfterContentInit","_this","defaultIndex","pophover","tabs","isIconified","children","forEach","tabInstance","tabicon","tabalticon","push","length","selectTab","selectedIndex","keyup","event","code","which","id","undefined","target","click","position","document","getElementById","preventDefault","stopPropagation","focus","map","popped","onchange","emit","selectedTitle","title","hoverTab","ContentChildren","Output","FlexibleTabsModule","NgModule","imports","CommonModule","declarations","exports","entryComponents","providers","schemas","CUSTOM_ELEMENTS_SCHEMA"],"mappings":"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","sourcesContent":["/*\r\n* Provides rendering of a table which is using the given FlexibleTableHeader set in\r\n* order to tabulate the given data. As per definition of earch header component,\r\n* a column could be hidden, sortable, or draggable. Each table row can expand/collapse\r\n* or respond to a click action.\r\n*/\r\nimport {\r\n    Component,\r\n\tInput,\r\n\tOutput,\r\n\tContentChildren,\r\n\tQueryList,\r\n\tAfterContentInit,\r\n\tChangeDetectorRef,\r\n\tInjector,\r\n\tComponentFactoryResolver,\r\n\tEmbeddedViewRef,\r\n\tElementRef,\r\n    ApplicationRef,\r\n\tEventEmitter,\r\n\tRenderer2,\r\n\tOnInit\r\n} from '@angular/core';\r\n\r\nexport enum TabTypes {\r\n\tbutton = \"button\", \r\n\ttab = \"tab\", \r\n\tplain = \"plain\", \r\n\ticon = \"icon\", \r\n\tradio = \"radio\"\r\n}\r\n\r\nexport enum TabPositions {\r\n\ttop = \"top\", \r\n\tleft = \"left\", \r\n\tright = \"right\", \r\n\tbottom = \"bottom\"\r\n}\r\n\r\nexport interface DynamicTabContentComponent {\r\n  /*\r\n   * Will activate the component with given data.\r\n   * @attribute data: initial data.\r\n   * @arreibute template: if this component needs to have sub-template\r\n   * @attribute helper: if component needs a helper.\r\n   */\r\n  activate(data: any, template?: any, helper?: any): void;\r\n\r\n  /*\r\n   * Will tell component to pause all activities and freez data till activation.\r\n   * recommendation is for the component to eigther undefine data and handle it or use\r\n   * JSON.parse(JSON.stringyfy(data)) to freez it and break away from pointer it has received in activation\r\n   */\r\n  deactivate(): void;\r\n}\r\n\r\n@Component({\r\n\tselector: 'flexible-tab',\r\n\ttemplateUrl: './flexible.tab.component.html',\r\n\tstyleUrls: ['./flexible.tab.component.scss']\r\n})\r\nexport class FlexibleTabComponent implements OnInit {\r\n\r\n\thovered = false;\r\n\tindex: number;\r\n\tflexibleId: string;\r\n\tdynamicComponent: any;\r\n\r\n    @Input(\"selected\")\r\n    public selected = false;\r\n\r\n    @Input(\"title\")\r\n\tpublic title: string;\r\n\t\r\n\t@Input(\"component\")\r\n\tpublic component: any;\r\n\r\n    @Input(\"tabalticon\")\r\n    public tabalticon: string;\r\n\r\n    @Input(\"tabicon\")\r\n    public tabicon: string;\r\n\r\n    @Input(\"template\")\r\n    public template: any;\r\n\r\n    @Input(\"data\")\r\n\tpublic sourceData: any;\r\n\t\r\n\t@Input(\"handler\")\r\n\tpublic handler: any;\r\n\r\n    constructor(\r\n\t\tprivate componentFactoryResolver: ComponentFactoryResolver,\r\n\t\tprivate host: ElementRef,\r\n\t\tprivate appRef: ApplicationRef,\r\n\t\tprivate injector: Injector,\r\n\t\tprivate renderer: Renderer2,\r\n\t\tprivate detector: ChangeDetectorRef\r\n\t) {\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tthis.renderer.setAttribute(this.host.nativeElement, 'id', this.flexibleId + '-panel-' + this.index);\r\n\t\tthis.renderer.setAttribute(this.host.nativeElement, 'aria-labelledby', this.flexibleId + '-tab-' + this.index);\r\n\t\tthis.renderer.setAttribute(this.host.nativeElement, 'role', \"tabpanel\");\r\n\t\tthis.renderer.setAttribute(this.host.nativeElement, 'aria-labeledby', this.flexibleId + '-tab-' +  this.index);\r\n\t\tthis.renderer.setAttribute(this.host.nativeElement, 'aria-hidden', this.selected ? 'false':'true');\r\n\t\tthis.host.nativeElement.style.display=\"selected ? 'block':'none'\" \r\n\t}\r\n\r\n\ttemplateContext() {\r\n\t\treturn {data: this.sourceData };\r\n\t}\r\n\tdeactivate(deselect: boolean): void {\r\n\t\tif (deselect) {\r\n\t\t\tthis.renderer.setAttribute(this.host.nativeElement, 'tabIndex', '-1');\r\n\t\t\tthis.renderer.setStyle(this.host.nativeElement, 'display', 'none');\r\n\t\t\tif(this.selected) {\r\n\t\t\t\tthis.selected = false;\r\n\t\t\t\tif (this.dynamicComponent) {\r\n\t\t\t\t\tconst instance = (<DynamicTabContentComponent>this.dynamicComponent.instance);\r\n\t\t\t\t\tinstance.deactivate();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.hovered = false;\r\n\t\tthis.detector.detectChanges();\r\n\t}\r\n\tactivate(): void {\r\n\t\tif (!this.selected) {\r\n\t\t\tthis.selected = true;\r\n\t\t\tthis.detector.detectChanges();\r\n\t\t\tthis.renderer.setAttribute(this.host.nativeElement, 'tabIndex', '0');\r\n\t\t\tthis.renderer.setStyle(this.host.nativeElement, 'display', 'block');\r\n\t\t\tif (this.component) {\r\n\t\t\t\tthis.initializeDynamicComponent();\r\n\t\t\t\tconst instance = (<DynamicTabContentComponent>this.dynamicComponent.instance);\r\n\t\t\t\tinstance.activate(this.sourceData, this.template, this.handler);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\thover(flag: boolean): void {\r\n\t\tthis.hovered = flag;\r\n\t\tthis.detector.detectChanges();\r\n\t}\r\n\tprivate initializeDynamicComponent() {\r\n\t\tif (!this.dynamicComponent) {\r\n\t\t\tthis.dynamicComponent = this.componentFactoryResolver\r\n\t\t\t\t.resolveComponentFactory(this.component)\r\n\t\t\t\t.create(this.injector);\r\n\r\n\t\t\tthis.appRef.attachView(this.dynamicComponent.hostView);\r\n\t\t\tthis.host.nativeElement.appendChild((this.dynamicComponent.hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n@Component({\r\n\tselector: 'flexible-tabs',\r\n\ttemplateUrl: './flexible.tabs.component.html',\r\n\tstyleUrls: ['./flexible.tabs.component.scss']\r\n})\r\nexport class FlexibleTabsComponent implements AfterContentInit  {\r\n\ttabs = [];\r\n\tselectedIndex = -1;\r\n\tisIconified = false;\r\n\tpopped = false;\r\n\r\n\t@ContentChildren(FlexibleTabComponent)\r\n\tchildren: QueryList<FlexibleTabComponent>;\r\n\r\n    @Input(\"position\")\r\n    public position = TabPositions.top;\r\n\r\n    @Input(\"type\")\r\n    public type = TabTypes.tab;\r\n\r\n    @Input(\"pophover\")\r\n    public pophover = false;\r\n\r\n    @Input(\"message\")\r\n    public message = \"Click to select tab. Use arrow keys to navigate to other tabs.\";\r\n\r\n\t@Input(\"flexibleId\")\r\n\tpublic flexibleId = '';\r\n\r\n\t@Input(\"collapsed\")\r\n\tpublic collapsed = false;\r\n\t\r\n\t@Output('onchange')\r\n\tprivate onchange = new EventEmitter();\r\n\r\n    constructor() {}\r\n\r\n\tngAfterContentInit() {\r\n\t\tlet defaultIndex =  this.pophover ? -1 : 0;\r\n\t\tthis.tabs = [];\r\n\t\tthis.isIconified = false;\r\n\r\n\t\tthis.children.forEach((tabInstance, index) => {\r\n\t\t\ttabInstance.index = index;\r\n\t\t\ttabInstance.flexibleId = this.flexibleId;\r\n\t\t\tif(tabInstance.selected) {\r\n\t\t\t\tdefaultIndex = index;\r\n\t\t\t}\r\n\t\t\t\tthis.isIconified = true;\r\n\t\t\tif (tabInstance.tabicon || tabInstance.tabalticon) {\r\n\t\t\t\tthis.isIconified = true;\r\n\t\t\t}\r\n\t\t\tthis.tabs.push(tabInstance);\r\n\t\t});\r\n\t\tif (this.tabs.length) {\r\n\t\t\tthis.selectTab( defaultIndex );\r\n\t\t} else {\r\n\t\t\tthis.selectedIndex = defaultIndex;\r\n\t\t}\r\n\t}\r\n\r\n\tkeyup(event: any, index: number) {\r\n\t\tconst code = event.which;\r\n\t\tlet id = undefined;\r\n\t\t\r\n\t\tif (code === 13) {\r\n\t\t\tevent.target.click();\r\n\t\t} else if (code === 37 && (this.position === 'top' || this.position === 'bottom')) { // left arrow\r\n\t\t\tid = document.getElementById(this.flexibleId + '-tab-' + (index - 1));\r\n\t\t} else if (code === 39 && (this.position === 'top' || this.position === 'bottom')) {// rght arrow\r\n\t\t\tid = document.getElementById(this.flexibleId + '-tab-' + (index + 1));\r\n\t\t} else if (code === 38 && (this.position === 'left' || this.position === 'right')) { // up arrow\r\n\t\t\tid = document.getElementById(this.flexibleId + '-tab-' + (index + 1));\r\n\t\t} else if (code === 40 && (this.position === 'left' || this.position === 'right')) {// down arrow\r\n\t\t\tid = document.getElementById(this.flexibleId + '-tab-' + (index - 1));\r\n\t\t}\r\n\t\tif (id) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tevent.stopPropagation();\r\n\t\t\tid.focus();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\tselectTab(index: number) {\r\n\t\tif (this.selectedIndex != index) {\r\n\t\t\tthis.tabs.map((tab)=>{\r\n\t\t\t\ttab.deactivate(true);\r\n\t\t\t});\r\n\t\t\tif (index > -1) {\r\n\t\t\t\tthis.tabs[index].activate();\r\n\t\t\t\tthis.selectedIndex = index;\r\n\t\t\t\tthis.popped = true;\r\n\t\t\t\tthis.onchange.emit({\r\n\t\t\t\t\tselectedIndex: index,\r\n\t\t\t\t\tselectedTitle: this.tabs[index].title\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\thoverTab(index: number, flag: boolean) {\r\n\t\tif (this.pophover) {\r\n\t\t\tthis.tabs.map((tab)=>{\r\n\t\t\t\ttab.deactivate(false);\r\n\t\t\t});\r\n\t\t\tif (index > -1){\r\n\t\t\t\tthis.tabs[index].hover(flag);\r\n\t\t\t}\r\n\t\t\tthis.popped = this.selectedIndex > -1 || flag;\r\n\t\t}\r\n\t}\r\n}\r\n","/*\r\n* Provides rendering of flexible tabs in a lazy load fashion.\r\n*/\r\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { FlexibleTabsComponent, FlexibleTabComponent } from './flexible.tabs.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule\r\n    ],\r\n    declarations: [\r\n        FlexibleTabsComponent,\r\n        FlexibleTabComponent\r\n    ],\r\n    exports: [\r\n        FlexibleTabsComponent,\r\n        FlexibleTabComponent\r\n    ],\r\n    entryComponents: [\r\n    ],\r\n    providers: [\r\n    ],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class FlexibleTabsModule {}\r\n"]}